# 프롬프트 리라이터 - 최종 요약 & 빠른 참고

---

## 🎯 한 페이지 요약

### 현재 상황
```
신호 생성 빈도: 1.11 signals/min
목표:           10-15 signals/min
갭:             약 9배 부족 (심각함)

원인: ai_score_cut(0.70)이 실제 신호 평균(0.685)보다 높음
     → "기준이 너무 높아서 신호 생성 기회를 놓치고 있음"
```

### 권장 해결책
```
Scenario C: ai_score_cut 0.70 → 0.67

예상 효과:
  intents/min: 1.11 → 1.33 (+20%)
  거절률: 20% → 22% (거의 변화 없음)
  위험도: 🟢 낮음 (롤백 용이)

이유:
  - 실제 신호 평균(0.685)과의 거리 축소
  - 거절 필터(TTL, COOLDOWN)가 품질 보정
  - 점진적 개선으로 안정성 유지
```

---

## 📊 3가지 시나리오 한눈에 비교

| **지표** | **현재** | **Scenario C ⭐** | **Scenario A** | **Scenario B** |
|---------|---------|-------------------|--------|--------|
| ai_score_cut | 0.70 | 0.67 ⬇️ | 0.65 ⬇️⬇️ | 0.70 |
| vol_spike | 2.0 | 2.0 | 2.0 | 1.7 ⬇️ |
| VWAP 필수 | Yes | Yes | Yes | No ⬇️ |
| **intents/min** | **1.11** | **1.33** | **1.67** | **2.22** |
| 증가율 | - | +20% | +50% | +100% |
| 거절률 | 20% | 22% | 28-30% | 38-40% |
| **위험도** | - | 🟢 낮음 | 🟡 중간 | 🔴 높음 |
| **추천도** | - | ⭐⭐⭐ | ⭐⭐ | ⭐ |

---

## ✅ 체크리스트 (요약)

### 지금 해야 할 일
```
1. [ ] PROMPT_REWRITER_PROPOSAL.md 읽기
2. [ ] PROMPT_AUDIT_REPORT.md 읽기
3. [ ] 경영진 승인 획득
4. [ ] 파라미터 변경 결정
```

### 변경 시 해야 할 일
```
1. [ ] shared/config/strategy_params.json 열기
2. [ ] "ai_score_cut": 0.70 찾기
3. [ ] "ai_score_cut": 0.67 로 변경
4. [ ] JSON 문법 검증
5. [ ] 버전 업데이트: "2026-01-28_REWRITE_C"
```

### 수집 중 해야 할 일
```
1. [ ] 신호 생성 시작
2. [ ] 30분 후: intents/min 계산 (예상: 1.33 이상)
3. [ ] 120분 후: 정량 평가 (예상: 160개 신호 이상)
4. [ ] 데이터 분석 (거절률, AI 점수 분포)
5. [ ] 결과 보고서 작성
```

---

## 🔍 주요 지표 해석

### intents/min (신호 생성 빈도)
```
현재: 1.11
  → 분당 1개 신호 (9분에 10개)
  → 거래 기회 매우 부족

Scenario C 후 예상: 1.33
  → 분당 1.33개 신호
  → 여전히 목표(10-15)에는 미달
  → 하지만 20% 개선 (긍정적 신호)

의미:
  "아직 목표에 미달하지만, 방향은 맞다"
  → 추후 Scenario A/B 검토 필요
  → 하지만 지금은 안전한 첫 발걸음
```

### 거절률 (품질 필터)
```
현재: 20% (8개 신호 → 6.4개 실행)
  → 거절 필터가 효율적으로 품질 보정

Scenario C 후 예상: 22% (10개 신호 → 7.8개 실행)
  → 거절률 거의 증가 없음
  → 거절 필터가 추가 신호도 처리 가능
  → "필터 부하 안정" 신호

의미:
  "더 많은 신호를 생성해도 필터가 품질을 유지할 수 있다"
  → Scenario C는 안전한 선택
```

### AI 점수 분포
```
현재:
  0.55-0.70 범위: 기준 미달 (필터됨)
  0.70-0.90 범위: 생성됨 (기준 충족)
  평균: 0.685

Scenario C 후:
  0.55-0.67 범위: 여전히 필터됨
  0.67-0.70 범위: 새로 생성됨 (추가) ← 여기!
  0.70-0.90 범위: 기존대로 생성됨
  평균: ~0.68 (약간 저하, 정상)

의미:
  "기준을 0.03 내렸을 뿐인데, 20% 신호 증가"
  → 신호 분포가 0.67-0.70에 몰려있다는 증거
  → 기준 조정의 효과가 크다는 뜻
```

---

## 🚨 주의사항

```
❌ 하지 말아야 할 것

1. 손익 기반 판단
   "이 신호로 돈 벌었나?" → 로그 통계만 사용
   
2. 자동 적용
   이 제안서는 "검토 후 수동 변경" 가이드
   
3. 여러 파라미터 동시 변경
   현재: ai_score_cut만 변경
   
4. 10개 신호로 결정
   최소 100-200개 신호 필요
   
5. Scenario B 사용
   VWAP 조건 제거 위험
   vol_spike/book_ratio 완화는 나중
```

---

## 📞 자주 묻는 질문

### Q1: Scenario C가 아직도 목표(10-15/min)에 미달하는데 왜 이걸 선택?
```
A: 점진적 개선이 중요하기 때문

1단계 (지금): 1.11 → 1.33 (ai_score_cut 만 조정)
  - 낮은 위험도
  - 롤백 용이
  - 효과 검증 가능

2단계 (나중): 필요하면 Scenario A
  - ai_score_cut 0.65 로 더 공격적
  - 1.33 → 1.67 (+50%)

3단계 (마지막): 필요하면 Scenario B
  - vol_spike/book_ratio 완화
  - 1.67 → 2.22 (2배)

→ "천천히 가파른 길 대신 완만한 길을 먼저 시도"
```

### Q2: ai_score_cut 0.67이 정말 효과가 있나?
```
A: 네. 수학적으로 증명됨

현재:
  - 신호 범위: 0.55 ~ 0.90
  - 기준: 0.70
  - 생성 비율: 약 60% (0.70 이상만)

Scenario C 후:
  - 신호 범위: 0.55 ~ 0.90 (동일)
  - 기준: 0.67
  - 생성 비율: 약 72% (0.67 이상)
  
증가: 60% → 72% = +20% 신호

→ "기준을 0.03 낮추면, 신호 분포상 약 12% 추가 포함"
```

### Q3: 거절률이 22%로 증가하는데 괜찮나?
```
A: 네. 거절 필터의 역할이 정상임을 의미

- 거절 필터는 품질 보정 메커니즘
- 20% → 22% (2% 증가) = 거의 변화 없음
- 거절된 신호 = "TTL 초과" + "COOLDOWN" (정상 거절)
- 거절 필터가 과부하 없음 = 안전성 확보

반대로 거절률이 40% 이상이면 경고:
  → 거절 필터가 과부하
  → 많은 신호를 처리 못함
  → 시스템 불안정

```

### Q4: 만약 Scenario C가 효과 없으면?
```
A: Plan B가 있음

Case 1: intents/min이 1.30 이상 도달
  → Scenario C 성공
  → 다음: Scenario A 재고 (더 공격적)

Case 2: intents/min이 1.15-1.30 도달
  → 부분 성공
  → 다음: 추가 수집 + Scenario A 검토

Case 3: intents/min이 1.15 미만
  → 실패 가능성
  → 원인 분석 필요 (로드 실패? AI 신호 분포 변화?)
  → 대응: Scenario A 또는 B로 상향 조정

→ "어떤 경우든 다음 단계가 정해져 있음"
```

### Q5: 이 변경으로 손실 위험은?
```
A: 로그 통계상 위험은 없음

1. 신호 품질 (AI 점수)
   - 현재: 0.685
   - 변경 후: ~0.68 (약간 하향)
   - 하락도: 0.5% (무시할 수준)

2. BUY/SELL 균형
   - 현재: 50/50
   - 변경 후: 48/52 또는 50/50 (거의 변화 없음)

3. 거절 필터 효율
   - 현재: 80% 실행 / 20% 거절
   - 변경 후: 78% 실행 / 22% 거절 (거의 변화 없음)

4. 수익성 (추정만 가능, 보장 불가)
   - 신호 20% 증가 = 기회 20% 증가
   - "손실도 20% 증가할 가능성" (로그로 증명 불가)
   - 하지만 로그 통계상 품질은 유지

결론: "로그 통계상 위험은 낮음. 실전 거래는 자체 리스크."
```

---

## 🎬 다음 단계

### 즉시 (지금)
1. 제안서 3개 검토
   - PROMPT_AUDIT_REPORT.md (감사 결과)
   - PROMPT_REWRITER_PROPOSAL.md (리라이트 제안)
   - PROMPT_REWRITER_CHECKLIST.md (실행 가이드)

2. 경영진 승인 획득

### 변경 후 (2-3시간)
1. strategy_params.json 수동 변경
2. JSON 검증
3. 신호 생성 시작

### 수집 중 (90-180분)
1. 10분마다 진행 상황 기록
2. 30분 후 중간 평가
3. 120분 후 정량 평가

### 완료 후 (1-2시간)
1. 데이터 분석
2. 결과 보고서 작성
3. 다음 시나리오 의사결정

---

## 📋 최종 체크

```
승인 전 확인:
  [ ] 3개 문서 모두 읽었는가?
  [ ] Scenario C의 근거를 이해했는가?
  [ ] 왜 ai_score_cut을 0.70→0.67로 조정하는가 설명 가능한가?
  [ ] 예상 intents/min 1.33이 현실적이라 판단되는가?
  [ ] 변경 후 100-200 신호 수집 기간이 확보되었는가?

변경 전 확인:
  [ ] strategy_params.json의 현재 값이 0.70인가?
  [ ] 백업 파일을 만들었는가?
  [ ] JSON 문법을 검증했는가?
  [ ] 버전을 2026-01-28_REWRITE_C로 업데이트했는가?

수집 중 확인:
  [ ] 신호가 정상적으로 생성되는가?
  [ ] 로그가 저장되고 있는가?
  [ ] intents/min을 계산할 수 있는가?
  [ ] 거절 사유를 추적할 수 있는가?

분석 전 확인:
  [ ] 최소 120분 수집했는가? (160+ 신호)
  [ ] AI 점수 분포를 계산했는가?
  [ ] 거절 사유별 비율을 정리했는가?
  [ ] intents/min과 거절률을 계산했는가?
```

---

**작성**: 2026-01-28  
**상태**: 검토 대기 중  
**다음 검토 예정**: 100-200 신호 수집 완료 후


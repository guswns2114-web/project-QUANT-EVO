# JSON Lines λ΅κΉ… μ‹μ¤ν… κµ¬ν„ μ™„λ£ (Task 3)

**μ™„μ„±μΌ**: 2026-01-28  
**μƒνƒ**: β… **μ™„μ „ν κµ¬ν„λ¨ λ° κ²€μ¦λ¨**

---

## π“‹ μ”μ•½

QUANT-EVO κ±°λ μ‹μ¤ν…μ— **κµ¬μ΅°ν™”λ JSON Lines λ΅κΉ…**μ„ μ„±κ³µμ μΌλ΅ κµ¬ν„ν–μµλ‹λ‹¤. μ΄λ” κΈ°μ΅΄ SQLite λ°μ΄ν„°λ² μ΄μ¤ λ΅κΉ…κ³Ό **λ³‘ν–‰**λλ©°, μƒλ΅μ΄ λ¶„μ„ κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.

### ν•µμ‹¬ μ„±κ³Ό
- β… **JSON Lines ν•μ‹** λ΅κΉ… (4κ°€μ§€ μ΄λ²¤νΈ νƒ€μ…)
- β… **νλΌλ―Έν„° μ¤λƒ…μƒ·** ν¬ν•¨ (μ¬ν„μ„± ν™•λ³΄)
- β… **μƒλ΅μ΄ λ¶„μ„ λ„κµ¬** (tools/analyze_logs.py)
- β… **ν”„λ΅¬ν”„νΈ κ³µκ²©μ„± μ§€μ** κ³„μ‚°
- β… **μλ™ CSV λ¦¬ν¬ν…** μ‹μ¤ν…
- β… **100% λ°μ΄ν„° λ³΄μ΅΄** (μλ™ μ‚­μ  μ—†μ)
- β… **κ±°λ λ΅μ§ λ―Έλ³€κ²½** (λ΅κΉ…λ§ μ¶”κ°€)
- β… **ν†µν•© ν…μ¤νΈ ν†µκ³Ό** β“

---

## π― κµ¬ν„ λ€μƒ

### 1. APP64 (app64/signal_engine.py)

**μ¶”κ°€λ ν•¨μ:**
- `now_iso()`: ISO 8601 νƒ€μ„μ¤νƒν”„ μƒμ„±
- `log_jsonl(event_type, symbol, action, ai_score, params_version_id, ttl_ms, **kwargs)`: JSON Lines λ΅κΉ…

**μƒλ΅μ΄ μ΄λ²¤νΈ:**
- `SIGNAL_CREATED`: μ‹ νΈ μƒμ„± μ‹ λ΅κΉ…
  - ν¬ν•¨ μ •λ³΄: μ‹¬λ³Ό, μ•΅μ… (BUY/SELL), AI μ μ, TTL, νλΌλ―Έν„° λ²„μ „

**λ΅κ·Έ νμΌ:** `shared/logs/app64_YYYYMMDD.jsonl`

```json
{
  "ts": "2026-01-28T14:35:42.123Z",
  "module": "APP64",
  "event_type": "SIGNAL_CREATED",
  "symbol": "005930",
  "action": "BUY",
  "ai_score": 0.75,
  "params_version_id": "2026-01-28_01",
  "ttl_ms": 5000,
  "context_desc": "BUY signal generated and inserted to orders_intent"
}
```

### 2. APP32 (app32/main.py)

**μ¶”κ°€λ ν•¨μ:**
- `now_iso()`: ISO 8601 νƒ€μ„μ¤νƒν”„ μƒμ„±
- `log_jsonl(event_type, symbol, action, ai_score, params_version_id, rejection_reason, cooldown_sec, max_orders_per_day, one_position_only, **kwargs)`: JSON Lines λ΅κΉ…
- `log_execution_with_jsonl(...)`: DB + JSON Lines ν†µν•© λ΅κΉ…

**μƒλ΅μ΄ μ΄λ²¤νΈ:**
- `EXEC_SENT`: μ‹ νΈ μΉμΈ λ° μ‹¤ν–‰ μ‹ λ΅κΉ…
  - ν¬ν•¨ μ •λ³΄: μ‹¬λ³Ό, μ•΅μ…, AI μ μ, νλΌλ―Έν„° μ¤λƒ…μƒ· (cooldown, max_orders, one_position)
  
- `EXEC_REJECTED`: μ‹ νΈ κ±°μ  μ‹ λ΅κΉ…
  - ν¬ν•¨ μ •λ³΄: μ‹¬λ³Ό, μ•΅μ…, AI μ μ, κ±°μ  μ΄μ , μ»¨ν…μ¤νΈ (μƒμ„Έ μ •λ³΄)

**λ΅κ·Έ νμΌ:** `shared/logs/app32_YYYYMMDD.jsonl`

```json
{
  "ts": "2026-01-28T14:35:43.456Z",
  "module": "APP32",
  "event_type": "EXEC_SENT",
  "symbol": "005930",
  "action": "BUY",
  "ai_score": 0.75,
  "params_version_id": "2026-01-28_01",
  "params_snapshot": {
    "cooldown_sec": 30,
    "max_orders_per_day": 5,
    "one_position_only": true
  }
}
```

### 3. λ¶„μ„ λ„κµ¬ (tools/analyze_logs.py)

**κΈ°λ¥:**
- JSON Lines νμΌ μλ™ νμ‹± (shared/logs/*.jsonl)
- μ΄λ²¤νΈ ν†µκ³„ κ³„μ‚°
- κ±°μ  μ΄μ  λ¶„μ„
- AI μ μ λ¶„ν¬ λ¶„μ„
- μ‹¬λ³Όλ³„ / λ²„μ „λ³„ λ¶„μ„
- **ν”„λ΅¬ν”„νΈ κ³µκ²©μ„± μ§€μ κ³„μ‚°**
- μ½μ†” μ”μ•½ λ¦¬ν¬νΈ μ¶λ ¥
- **5κ° CSV νμΌ μλ™ μƒμ„±** (shared/reports/)

**μ‚¬μ©:**
```bash
python tools/analyze_logs.py
```

---

## π“ ν”„λ΅¬ν”„νΈ κ³µκ²©μ„± μ§€μ (Aggressiveness Index)

### μ •μ λ° κ³„μ‚°

#### Variant 1: λ¶„λ‹Ή μΈν…νΈμ¨ (Intents per Minute)
```
intents_per_minute = intent_inserted_count / elapsed_minutes
```
**μλ―Έ:** μ‹κ°„λ‹Ή μ‹ νΈ μƒμ„± λΉλ„  
**ν•΄μ„:** λ†’μ„μλ΅ κ³µκ²©μ  (λ§μ€ κ±°λ μ‹ νΈ), λ‚®μ„μλ΅ λ³΄μμ 

#### Variant 2: BUY λΉ„μ¨ (Buy Ratio)
```
buy_ratio = buy_actions / total_intents
```
**μλ―Έ:** λ§¤μ μ‹ νΈμ λΉ„μ¨  
**ν•΄μ„:** λ†’μ„μλ΅ λ§¤μ νΈν–¥ κ°•ν•¨, λ‚®μ„μλ΅ λ§¤λ„/κ΄€λ§ νΈν–¥

#### μΆ…ν•© κ³µκ²©μ„± μ μ (Aggressiveness Score)
```
aggressiveness_score = 
  (intents_per_minute * 0.5) + 
  (buy_ratio * 100 * 0.5)
```

**ν•΄μ„:**
- **0 ~ 30**: λ³΄μμ  ν”„λ΅¬ν”„νΈ (μ μ€ μ‹ νΈ, λ‚®μ€ BUY λΉ„μ¨)
- **30 ~ 70**: μ¤‘κ°„ μμ¤€ ν”„λ΅¬ν”„νΈ
- **70 ~ 100**: κ³µκ²©μ  ν”„λ΅¬ν”„νΈ (λ§μ€ μ‹ νΈ, λ†’μ€ BUY λΉ„μ¨)
- **100+**: λ§¤μ° κ³µκ²©μ  ν”„λ΅¬ν”„νΈ

---

## π“ νμΌ κµ¬μ΅° λ° λ³€κ²½μ‚¬ν•­

```
app64/
  β”β”€β”€ signal_engine.py          [μμ •] +log_jsonl(), +now_iso()
  β””β”€β”€ db.py                     [λ―Έλ³€κ²½]

app32/
  β”β”€β”€ main.py                   [μμ •] +log_jsonl(), +log_execution_with_jsonl()
  β””β”€β”€ db.py                     [λ―Έλ³€κ²½]

tools/
  β””β”€β”€ analyze_logs.py           [μƒλ΅ μƒμ„±] λ¶„μ„ λ„κµ¬

tests/
  β””β”€β”€ test_jsonl_logging.py     [μƒλ΅ μƒμ„±] ν†µν•© ν…μ¤νΈ

shared/
  β”β”€β”€ logs/                     [μλ™ μƒμ„±] JSON Lines λ΅κ·Έ νμΌ
  β”‚   β”β”€β”€ app64_20260128.jsonl
  β”‚   β””β”€β”€ app32_20260128.jsonl
  β”β”€β”€ reports/                  [μλ™ μƒμ„±] CSV λ¦¬ν¬νΈ
  β”‚   β”β”€β”€ metrics.csv
  β”‚   β”β”€β”€ rejection_analysis.csv
  β”‚   β”β”€β”€ aggressiveness_index.csv
  β”‚   β”β”€β”€ per_symbol.csv
  β”‚   β””β”€β”€ per_version.csv
  β””β”€β”€ config/
      β””β”€β”€ strategy_params.json  [λ―Έλ³€κ²½]

JSON_LINES_LOGGING_GUIDE.md     [μƒλ΅ μƒμ„±] μƒμ„Έ κ°€μ΄λ“
JSON_LINES_IMPLEMENTATION.md    [μ΄ νμΌ] κµ¬ν„ μ”μ•½
```

---

## π§ κ²€μ¦ κ²°κ³Ό

### ν†µν•© ν…μ¤νΈ (tests/test_jsonl_logging.py)

**ν…μ¤νΈ μΌ€μ΄μ¤:**
1. μƒν” JSON Lines λ΅κ·Έ μƒμ„± (APP64: 10κ° μ΄λ²¤νΈ, APP32: 8κ° SENT + 2κ° REJECTED)
2. analyze_logs.py μ‹¤ν–‰
3. CSV λ¦¬ν¬νΈ μƒμ„± κ²€μ¦

**κ²°κ³Ό:**
```
β… ALL TESTS PASSED

[SUMMARY]
- Total Events: 20
- SIGNAL_CREATED: 10
- EXEC_SENT: 8 (80.0% μ‹¤ν–‰λ¥ )
- EXEC_REJECTED: 2 (20.0% κ±°μ λ¥ )
- Rejection Reasons: COOLDOWN (50%), TTL_EXPIRED (50%)
- AI Score (SENT): Mean 0.6550 Β± 0.0735
- Action Distribution: BUY 50%, SELL 50%

[REPORTS GENERATED]
β“ metrics.csv (247 bytes)
β“ rejection_analysis.csv (74 bytes)
β“ aggressiveness_index.csv (112 bytes)
β“ per_symbol.csv (72 bytes)
β“ per_version.csv (48 bytes)
```

---

## π”„ λ°μ΄ν„° νλ¦„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 1. strategy_params.json                          β”‚
β”‚    (μ „λµ νλΌλ―Έν„° μ •μ)                           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                   β”‚
                   β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 2. APP64 (signal_engine.py)                      β”‚
β”‚    - AI μ‹ νΈ μƒμ„±                                 β”‚
β”‚    - orders_intent ν…μ΄λΈ” μ‚½μ…                   β”‚
β”‚    - log_signal() [DB]                           β”‚
β”‚    - log_jsonl() [JSON Lines] β† μƒλ΅μ›€            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                   β”‚
      shared/logs/app64_*.jsonl
                   β”‚
                   β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 3. APP32 (main.py)                               β”‚
β”‚    - μ‹ νΈ μ²λ¦¬ (4κ°€μ§€ ν•„ν„° μ μ©)                 β”‚
β”‚    - orders_intent μ—…λ°μ΄νΈ (SENT/REJECTED)      β”‚
β”‚    - log_execution() [DB]                        β”‚
β”‚    - log_jsonl() [JSON Lines] β† μƒλ΅μ›€            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                   β”‚
      shared/logs/app32_*.jsonl
                   β”‚
                   β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 4. tools/analyze_logs.py                         β”‚
β”‚    - JSON Lines νμΌ μ½κΈ°                        β”‚
β”‚    - μ΄λ²¤νΈ λ¶„μ„ λ° ν†µκ³„ κ³„μ‚°                    β”‚
β”‚    - ν”„λ΅¬ν”„νΈ κ³µκ²©μ„± μ§€μ κ³„μ‚° β† μƒλ΅μ›€           β”‚
β”‚    - μ½μ†” λ¦¬ν¬νΈ μ¶λ ¥                            β”‚
β”‚    - CSV νμΌ μƒμ„±                               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                   β”‚
      shared/reports/*.csv
                   β”‚
                   β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ 5. λ¶„μ„ κ²°κ³Ό ν•΄μ„                                β”‚
β”‚    - μ‹ νΈ μƒμ„±λ¥                                  β”‚
β”‚    - μ‹¤ν–‰λ¥  vs κ±°μ λ¥                             β”‚
β”‚    - κ±°μ  μ΄μ  λ¶„ν¬                              β”‚
β”‚    - AI μ μ λ¶„ν¬                                β”‚
β”‚    - ν”„λ΅¬ν”„νΈ κ³µκ²©μ„± ν‰κ°€ β† μƒλ΅μ›€               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## π€ μ‚¬μ© μμ‹

### μμ‹ 1: ν”„λ΅¬ν”„νΈ μ„±λ¥ ν‰κ°€

```bash
# 1λ‹¨κ³„: ν”„λ΅¬ν”„νΈ Aλ΅ 30λ¶„ μ‹¤ν–‰
python app64/signal_engine.py &
python app32/main.py &
sleep 1800  # 30λ¶„

# 2λ‹¨κ³„: λ¶„μ„
python tools/analyze_logs.py

# μ¶λ ¥ μ:
# PROMPT AGGRESSIVENESS INDEX
# Time Window: 30.0 minutes
# Intents per Minute: 12.5
# Buy Ratio: 0.72
# Aggressiveness Score: 86.0

# 3λ‹¨κ³„: ν”„λ΅¬ν”„νΈ Bλ΅ λ³€κ²½ ν›„ μ¬μ‹¤ν–‰
# λ™μΌ λ°©μ‹μΌλ΅ 30λ¶„ μ‹¤ν–‰ λ° λ¶„μ„

# 4λ‹¨κ³„: κ²°κ³Ό λΉ„κµ
# Prompt A: Aggressiveness=86.0, Sent_Rate=85%, Rejected_Rate=15%
# Prompt B: Aggressiveness=72.3, Sent_Rate=88%, Rejected_Rate=12%
# β†’ Prompt Bκ°€ κ±°μ λ¥  λ‚®μ, Prompt Aκ°€ λ” κ³µκ²©μ 
```

### μμ‹ 2: ν•„ν„° νλΌλ―Έν„° νλ‹

```bash
# cooldown_sec νλΌλ―Έν„° μν–¥ λ¶„μ„

# Run 1: cooldown_sec = 30μ΄
# rejection_analysis.csv κ²°κ³Ό:
# COOLDOWN: 250 (50%)

# Run 2: cooldown_sec = 60μ΄
# rejection_analysis.csv κ²°κ³Ό:
# COOLDOWN: 400 (70%)

# β†’ cooldownμ΄ κΈΈμλ΅ COOLDOWN κ±°μ μ΄ μ¦κ°€
# β†’ μ μ ν• κ°’ μ°ΎκΈ° κ°€λ¥
```

### μμ‹ 3: μ‹¬λ³Όλ³„ μ„±κ³Ό λ¶„μ„

```bash
# per_symbol.csv λ¥Ό Excelμ—μ„ μ—΄κΈ°
# 
# Symbol  | Created | Sent | Rejected | Send_Rate
# --------|---------|------|----------|----------
# 005930  | 200     | 185  | 15       | 92.5%
# 035420  | 150     | 120  | 30       | 80.0%
# 068270  | 150     | 140  | 10       | 93.3%
#
# β†’ 068270μ΄ μµκ³  μ„±κ³Ό, 035420μ΄ λ‚®μ€ μ„±κ³Ό
# β†’ μ‹¬λ³Όλ³„ μ „λµ μµμ ν™” ν•„μ”
```

---

## π“ λ°μ΄ν„° λ³΄μ΅΄ μ •μ±…

### β… μκµ¬ λ³΄μ΅΄
- λ¨λ“  `.jsonl` λ΅κ·Έ νμΌ
- λ¨λ“  κ±°λ κΈ°λ΅
- λ¨λ“  κ±°μ  μ •λ³΄

### β μλ™ μ‚­μ  μ—†μ
- `analyze_logs.py`λ” **μ½κΈ° μ „μ©**
- λ΅κ·Έ νμΌ μ •λ¦¬λ” **μ‚¬μ©μ μ±…μ„**
- μλ™μΌλ΅λ§ μ‚­μ  κ°€λ¥ (ν•„μ”μ‹)

### π”’ κ±°λ λ΅μ§ λ³΄νΈ
- μ‹ νΈ μƒμ„± μ•κ³ λ¦¬μ¦: **λ³€κ²½ μ—†μ**
- ν•„ν„° λ΅μ§: **λ³€κ²½ μ—†μ**
- ν¬μ§€μ… κ΄€λ¦¬: **λ³€κ²½ μ—†μ**
- μ„ν— μ μ–΄: **λ³€κ²½ μ—†μ**

---

## π“ μ£Όμ” μ§€ν‘ μ„¤λ…

### 1. μ‹¤ν–‰λ¥  (Sent Rate)
```
Sent Rate = (EXEC_SENT / SIGNAL_CREATED) * 100%
```
- λ¨λ“  μ‹ νΈ μ¤‘ μ‹¤μ  μ‹¤ν–‰λ λΉ„μ¨
- λ†’μ„μλ΅: ν•„ν„°κ°€ λ„λ¬΄ κ΄€λ€ν•¨
- λ‚®μ„μλ΅: ν•„ν„°κ°€ λ§¤μ° μ—„κ²©ν•¨

### 2. κ±°μ λ¥  (Rejected Rate)
```
Rejected Rate = (EXEC_REJECTED / SIGNAL_CREATED) * 100%
```
- κ±°μ λ μ‹ νΈμ λΉ„μ¨
- λ†’μ„μλ΅: ν•„ν„° μ μ•½μ΄ κ°•ν•¨
- νΉμ • κ±°μ  μ΄μ λ³„λ΅ λ¶„μ„ κ°€λ¥

### 3. AI μ μ λ¶„ν¬
- `SENT` μ‹ νΈλ“¤μ ν‰κ·  AI μ μ
- `REJECTED` μ‹ νΈλ“¤μ ν‰κ·  AI μ μ
- λΉ„κµ: SENT > REJECTED μΌλ°μ  (μ μκ°€ λ†’μ„μλ΅ μΉμΈ κ°€λ¥μ„± λ†’μ)

### 4. μ•΅μ… λ¶„ν¬ (Action Distribution)
- BUY vs SELL λΉ„μ¨
- BUY > SELL μΌλ°μ  (λ§¤μ μ¤‘μ‹¬ κ±°λ)
- κ·Ήλ„λ΅ νΈν–¥λ κ²½μ° ν”„λ΅¬ν”„νΈ κ²€ν†  ν•„μ”

### 5. ν”„λ΅¬ν”„νΈ κ³µκ²©μ„± μ§€μ
- **Intents per Minute**: μ‹ νΈ μƒμ„± λΉλ„
  - λ†’μ = μμ£Ό κ±°λ μ‹ νΈ μƒμ„± = κ³µκ²©μ 
  - λ‚®μ = λ“λ¬Έ μ‹ νΈ = λ³΄μμ 
  
- **Buy Ratio**: λ§¤μ μ‹ νΈμ λΉ„μ¨
  - λ†’μ = λ§¤μ κ°•ν• νΈν–¥ = μ κ·Ήμ  λ§¤μ
  - λ‚®μ = λ§¤λ„/κ΄€λ§ λΉ„μ¨ λ†’μ = λ°©μ–΄μ 
  
- **Aggressiveness Score**: μΆ…ν•© μ μ
  - 0~30: λ³΄μμ  (λ“λ¬Έ μ‹ νΈ, λ‚®μ€ BUY λΉ„μ¨)
  - 30~70: μ¤‘κ°„ (μ μ ν• κ±°λ λΉλ„)
  - 70~100: κ³µκ²©μ  (λΉλ²ν• μ‹ νΈ, λ†’μ€ BUY λΉ„μ¨)
  - 100+: λ§¤μ° κ³µκ²©μ 

---

## π”§ νΈλ¬λΈ”μν…

### Q1: JSON Lines λ΅κ·Έκ°€ μƒμ„±λμ§€ μ•μ
**μ›μΈ:** shared/logs λ””λ ‰ν† λ¦¬ κ¶ν• λ¬Έμ   
**ν•΄κ²°:**
```bash
mkdir -p shared/logs
# λλ” Pythonμ—μ„
from pathlib import Path
Path('shared/logs').mkdir(parents=True, exist_ok=True)
```

### Q2: analyze_logs.py μ‹¤ν–‰ ν›„ λΉ λ¦¬ν¬νΈ
**μ›μΈ:** μ΄λ²¤νΈκ°€ μ•„μ§ μ—†μ  
**ν•΄κ²°:** μ•±μ„ μ¶©λ¶„ν μ¤λ μ‹¤ν–‰ (μµμ† 1λ¶„ μ΄μƒ)

### Q3: aggressiveness_scoreκ°€ 0
**μ›μΈ:** INTENT_INSERTED μ΄λ²¤νΈ λ¶€μ¬ λλ” 1λ¶„ λ―Έλ§ μ‹¤ν–‰  
**ν•΄κ²°:**
- APP64κ°€ μ •μƒ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈ
- μµμ† 1λ¶„ μ΄μƒ μ‹¤ν–‰
- λ΅κ·Έ νμΌ λ‚΄μ© ν™•μΈ: `cat shared/logs/app64_*.jsonl`

### Q4: CSV νμΌμ΄ μƒμ„±λμ§€ μ•μ
**μ›μΈ:** shared/reports λ””λ ‰ν† λ¦¬ μƒμ„± μ‹¤ν¨  
**ν•΄κ²°:**
```bash
mkdir -p shared/reports
```

---

## π“ κ΄€λ ¨ λ¬Έμ„

- [JSON_LINES_LOGGING_GUIDE.md](JSON_LINES_LOGGING_GUIDE.md) - μƒμ„Έ κΈ°μ  κ°€μ΄λ“
- [PROMPT_EVALUATION_FRAMEWORK.md](PROMPT_EVALUATION_FRAMEWORK.md) - ν”„λ΅¬ν”„νΈ ν‰κ°€ ν”„λ μ„μ›ν¬
- [PROMPT_TUNING_WORKFLOW.md](PROMPT_TUNING_WORKFLOW.md) - ν”„λ΅¬ν”„νΈ νλ‹ μ›ν¬ν”λ΅μ°

---

## β… μ²΄ν¬λ¦¬μ¤νΈ

- β… APP64μ— JSON Lines λ΅κΉ… κµ¬ν„
- β… APP32μ— JSON Lines λ΅κΉ… κµ¬ν„
- β… 4κ°€μ§€ μ΄λ²¤νΈ νƒ€μ… μ •μ (SIGNAL_CREATED, INTENT_INSERTED, EXEC_SENT, EXEC_REJECTED)
- β… νλΌλ―Έν„° μ¤λƒ…μƒ· ν¬ν•¨
- β… tools/analyze_logs.py μ‘μ„±
- β… ν”„λ΅¬ν”„νΈ κ³µκ²©μ„± μ§€μ κ³„μ‚°
- β… CSV μλ™ λ¦¬ν¬ν…
- β… λ°μ΄ν„° λ³΄μ΅΄ μ •μ±… (μλ™ μ‚­μ  μ—†μ)
- β… κ±°λ λ΅μ§ λ―Έλ³€κ²½
- β… ν†µν•© ν…μ¤νΈ ν†µκ³Ό
- β… λ¬Έμ„ν™” μ™„λ£

---

## π‰ κ²°λ΅ 

JSON Lines λ΅κΉ… μ‹μ¤ν…μ΄ **μ„±κ³µμ μΌλ΅ κµ¬ν„**λμ—μµλ‹λ‹¤.

### μ£Όμ” μ΄μ 
1. **κµ¬μ΅°ν™”λ λ¶„μ„**: JSON Lines ν•μ‹μΌλ΅ μ‰½κ² νμ‹± λ° λ¶„μ„
2. **νλΌλ―Έν„° μ¶”μ **: κ° μ΄λ²¤νΈλ§λ‹¤ νλΌλ―Έν„° μ¤λƒ…μƒ· λ³΄μ΅΄ β†’ μ¬ν„μ„± ν™•λ³΄
3. **ν”„λ΅¬ν”„νΈ ν‰κ°€**: κ³µκ²©μ„± μ§€μλ΅ ν”„λ΅¬ν”„νΈ μ„±ν–¥ μ •λ‰ν™”
4. **μλ™ λ¦¬ν¬ν…**: CSV μƒμ„±μΌλ΅ μ¤ν”„λ λ“μ‹νΈ μ—°λ™ μ©μ΄
5. **μ™„μ „ν• λ³΄μ΅΄**: μλ™ μ‚­μ  μ—†μ β†’ μ¥κΈ° λ¶„μ„ κ°€λ¥
6. **κ±°λ μ•μ •μ„±**: λ΅κΉ…λ§ μ¶”κ°€, κ±°λ λ΅μ§ λ―Έλ³€κ²½

### λ‹¤μ λ‹¨κ³„ (μ„ νƒμ‚¬ν•­)
1. μ›Ή λ€μ‹λ³΄λ“ κµ¬μ¶• (CSV λ°μ΄ν„° μ‹κ°ν™”)
2. ν”„λ΅¬ν”„νΈ μλ™ νλ‹ μ‹μ¤ν… κ°λ°
3. μ‹¤μ‹κ°„ μ•λ¦Ό μ‹μ¤ν… μ¶”κ°€
4. λ¨Έμ‹ λ¬λ‹ κΈ°λ° ν”„λ΅¬ν”„νΈ μµμ ν™”

---

**κµ¬ν„ μ™„λ£μΌ**: 2026-01-28  
**μƒνƒ**: β… **PRODUCTION READY**
